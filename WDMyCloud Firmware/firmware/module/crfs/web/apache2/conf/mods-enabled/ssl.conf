<IfModule ssl_module>

SSLRandomSeed startup builtin
SSLRandomSeed startup file:/dev/urandom 512
SSLRandomSeed connect builtin
SSLRandomSeed connect file:/dev/urandom 512

AddType application/x-x509-ca-cert .crt
AddType application/x-pkcs7-crl    .crl

SSLPassPhraseDialog  builtin
SSLSessionCache        "shmcb:/var/log/web_ssl_scache(512000)"
SSLSessionCacheTimeout  300
SSLCipherSuite HIGH:!aNULL
SSLProtocol all -SSLv2

<VirtualHost _default_:443>
	DocumentRoot "/var/www/"
	ServerAdmin webmaster@localhost
	#ErrorLog "/var/log/web_ssl_error_log"
	ErrorLog "/dev/null"
	#TransferLog "/var/log/web_ssl_access_log"
	TransferLog "/dev/null"
	SSLEngine on
	SSLCertificateFile "/etc/certificate_https_all.pem"
	SSLCertificateKeyFile "/etc/certificate_https_all.pem"

	<FilesMatch "\.(cgi|shtml|phtml|php)$">
		SSLOptions +StdEnvVars
	</FilesMatch>

	<Directory "/var/www/cgi-bin">
		SSLOptions +StdEnvVars
	</Directory>

	BrowserMatch "MSIE [2-5]" \
		nokeepalive ssl-unclean-shutdown \
		downgrade-1.0 force-response-1.0

	#CustomLog "/dev/null" \
	#	"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
    Define ACCESS_LOG_FILE access_ssl.log
    Include /usr/local/apache2/conf/mods-enabled/log_config.conf
	
	IncludeOptional /usr/local/apache2/conf/sites-enabled/*.conf	
</VirtualHost>
</IfModule>
